library(sf)
library(ggplot2)
orca |>
  st_as_sf.csquares("csquares") |>
  st_transform(crs = "+proj=natearth2 +lon_0=0 +x_0=0 +y_0=0") |>
  ggplot() +
  geom_sf(aes(fill = orcinus_orca)) +
  coord_sf(expand = FALSE)

nc  <- sf::st_read(system.file("shape/nc.shp", package = "sf"))
rst <- st_as_stars.csquares(nc, add_csquares = TRUE)

ggplot2::ggplot() +
  stars::geom_stars(data = rst) +
  ggplot2::geom_sf(data = nc)


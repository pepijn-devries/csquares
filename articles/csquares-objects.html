<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Csquares objects • csquares</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Csquares objects">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">csquares</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.8</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/csquares-objects.html">Csquares objects</a>
    </li>
    <li>
      <a href="../articles/ices.html">ICES rectangles</a>
    </li>
    <li>
      <a href="../articles/tidy.html">Tidy csquares</a>
    </li>
    <li>
      <a href="../articles/Wildcards.html">Wildcards</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/pepijn-devries/csquares/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Csquares objects</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/pepijn-devries/csquares/blob/main/vignettes/csquares-objects.Rmd" class="external-link"><code>vignettes/csquares-objects.Rmd</code></a></small>
      <div class="hidden name"><code>csquares-objects.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://pepijn-devries.github.io/csquares/" class="external-link">csquares</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="the-s3-class-csquares">The S3 class <code>csquares</code><a class="anchor" aria-label="anchor" href="#the-s3-class-csquares"></a>
</h2>
<p>The csquares package has defined a <code>csquares</code> class.
Objects that are of this class contain a <code>character</code> vector
or is a <code>character</code> vector itself, where the characters
represent valid <a href="https://en.wikipedia.org/wiki/C-squares" class="external-link">csquares</a> codes. The
advantage to have a distinct class for these objects is that you
automatically inherit all methods that are available for parent classes.
The <code>csquares</code> object can essentially inherit from the
following classes (arranged from simplest to most complex):</p>
<ul>
<li>
<code>character</code> vectors;</li>
<li>
<code>data.frame</code>;</li>
<li>spatial classes:
<ul>
<li>sf (<code><a href="https://r-spatial.github.io/sf/reference/sf.html" class="external-link">sf::st_sf()</a></code>);</li>
<li>stars (<code><a href="https://r-spatial.github.io/stars/reference/st_as_stars.html" class="external-link">stars::st_as_stars()</a></code>).</li>
</ul>
</li>
</ul>
<p>It is important to realise that <code>csquare</code> objects can have
varying parents, which is visualised in the diagram below. What you can
do with <code>csquares</code> objects in part depends on its parent.
Let’s start with showing how <code>csqaures</code> objects are created
and how they will inherit properties from the different parents listed
above.</p>
<?xml version="1.0" encoding="UTF-8" standalone="no"?><!-- Generated by graphviz version 2.40.1 (20161225.0304)
 --><!-- Title: Csquares schematic Pages: 1 --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="283pt" height="429pt" viewbox="0.00 0.00 282.69 429.40"><g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 425.4)"><title>Csquares schematic</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-425.4 278.6921,-425.4 278.6921,4 -4,4"></polygon><g id="clust1" class="cluster"><title>cluster_dfc</title>
<polygon fill="#e0ffff" stroke="#000000" points="93.2244,-64 93.2244,-242 229.2244,-242 229.2244,-64 93.2244,-64"></polygon><text text-anchor="middle" x="161.2244" y="-225.4" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">data.frame csquare</text></g><g id="clust2" class="cluster"><title>cluster_char</title>
<polygon fill="#e0ffff" stroke="#000000" points="114.2244,-250 114.2244,-413.4 244.2244,-413.4 244.2244,-250 114.2244,-250"></polygon><text text-anchor="middle" x="179.2244" y="-396.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">character csquare</text></g><!-- csquares --><g id="node1" class="node csquare_nodes"><title>csquares</title>
<polygon fill="#98fb98" stroke="#000000" points="207.5157,-36 134.9331,-36 134.9331,0 207.5157,0 207.5157,-36"></polygon><text text-anchor="middle" x="171.2244" y="-13.8" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">csquares</text></g><!-- strucstrs --><g id="node2" class="node csquare_nodes"><title>strucstrs</title>
<g id="a_node2"><a xlink:href="#using-spatiotemporal-arrays-stars" xlink:title="{&lt;stars&gt;stars::stars|&lt;starscsq&gt;csquares}">
          <polygon fill="#ffffff" stroke="#000000" points="0,-72.5 0,-122.1 84.4488,-122.1 84.4488,-72.5 0,-72.5"></polygon><text text-anchor="middle" x="42.2244" y="-105.5" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">stars::stars</text><polyline fill="none" stroke="#000000" points="0,-97.3 84.4488,-97.3 "></polyline><text text-anchor="middle" x="42.2244" y="-80.7" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">csquares</text></a>
      </g></g><!-- strucstrs&#45;&gt;csquares --><g id="edge5" class="edge"><title>strucstrs:starscsq-&gt;csquares</title>
<path fill="none" stroke="#000000" d="M84.2244,-85.3C93.9484,-85.3 83.3778,-71.7701 89.2244,-64 98.4744,-51.7068 112.028,-42.2304 125.4626,-35.1629"></path><polygon fill="#000000" stroke="#000000" points="127.2447,-38.1876 134.6901,-30.6499 124.1692,-31.8994 127.2447,-38.1876"></polygon></g><!-- strucdf --><g id="node3" class="node csquare_nodes"><title>strucdf</title>
<g id="a_node3"><a xlink:href="#using-data-frames" xlink:title="{&lt;df&gt;data.frame|&lt;dfcsq&gt;csquares}">
          <polygon fill="#ffffff" stroke="#000000" points="137.7714,-159.1 137.7714,-208.7 220.6774,-208.7 220.6774,-159.1 137.7714,-159.1"></polygon><text text-anchor="middle" x="179.2244" y="-192.1" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">data.frame</text><polyline fill="none" stroke="#000000" points="137.7714,-183.9 220.6774,-183.9 "></polyline><text text-anchor="middle" x="179.2244" y="-167.3" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">csquares</text></a>
      </g></g><!-- strucdf&#45;&gt;csquares --><g id="edge3" class="edge"><title>strucdf:dfcsq-&gt;csquares</title>
<path fill="none" stroke="#000000" d="M179.2244,-158.9C179.2244,-142.6143 183.1107,-138.8475 184.2244,-122.6 186.0055,-96.6165 187.7997,-89.7979 184.2244,-64 183.4127,-58.143 182.0458,-51.983 180.4956,-46.1423"></path><polygon fill="#000000" stroke="#000000" points="183.733,-44.739 177.5878,-36.1085 177.0097,-46.6875 183.733,-44.739"></polygon></g><!-- strucsf --><g id="node4" class="node csquare_nodes"><title>strucsf</title>
<g id="a_node4"><a xlink:href="#using-simple-features-sf" xlink:title="{&lt;sf&gt;sf::sf|&lt;sfcsq&gt;csquares}">
          <polygon fill="#ffffff" stroke="#000000" points="102.8289,-72.5 102.8289,-122.1 175.6199,-122.1 175.6199,-72.5 102.8289,-72.5"></polygon><text text-anchor="middle" x="139.2244" y="-105.5" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">sf::sf</text><polyline fill="none" stroke="#000000" points="102.8289,-97.3 175.6199,-97.3 "></polyline><text text-anchor="middle" x="139.2244" y="-80.7" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">csquares</text></a>
      </g></g><!-- strucdf&#45;&gt;strucsf --><g id="edge6" class="edge"><title>strucdf:df-&gt;strucsf:sf</title>
<path fill="none" stroke="#000000" d="M138.2244,-195.9C124.3592,-195.9 134.7184,-154.7697 138.1965,-132.2755"></path><polygon fill="#000000" stroke="#000000" points="141.6808,-132.6061 139.2244,-122.3 134.7177,-131.8885 141.6808,-132.6061"></polygon></g><!-- strucsf&#45;&gt;csquares --><g id="edge4" class="edge"><title>strucsf:sfcsq-&gt;csquares</title>
<path fill="none" stroke="#000000" d="M139.2244,-72.3C139.2244,-62.3921 143.2277,-52.6999 148.4024,-44.3104"></path><polygon fill="#000000" stroke="#000000" points="151.2831,-46.2982 154.1002,-36.0847 145.5288,-42.3122 151.2831,-46.2982"></polygon></g><!-- strucchar --><g id="node5" class="node csquare_nodes"><title>strucchar</title>
<g id="a_node5"><a xlink:href="#using-characters" xlink:title="{&lt;character&gt;character|&lt;charcsq&gt;csquares}">
          <polygon fill="#ffffff" stroke="#000000" points="142.0533,-258.5 142.0533,-308.1 216.3955,-308.1 216.3955,-258.5 142.0533,-258.5"></polygon><text text-anchor="middle" x="179.2244" y="-291.5" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">character</text><polyline fill="none" stroke="#000000" points="142.0533,-283.3 216.3955,-283.3 "></polyline><text text-anchor="middle" x="179.2244" y="-266.7" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">csquares</text></a>
      </g></g><!-- strucchar&#45;&gt;csquares --><g id="edge2" class="edge"><title>strucchar:charcsq-&gt;csquares</title>
<path fill="none" stroke="#000000" d="M216.2244,-271.3C262.3708,-271.3 311.8454,-220.2289 233.2244,-64 229.021,-55.6474 222.504,-48.431 215.2466,-42.3518"></path><polygon fill="#000000" stroke="#000000" points="217.2347,-39.4666 207.1554,-36.2017 212.9987,-45.0395 217.2347,-39.4666"></polygon></g><!-- strucchar&#45;&gt;strucdf --><g id="edge7" class="edge"><title>strucchar:charcsq-&gt;strucdf:dfcsq</title>
<path fill="none" stroke="#000000" d="M179.2244,-258.3C179.2244,-229.8701 210.5328,-235.927 220.2244,-209.2 224.1097,-198.4855 230.4883,-184.8733 228.7085,-177.4121"></path><polygon fill="#000000" stroke="#000000" points="230.5169,-174.4132 220.2244,-171.9 226.7032,-180.2831 230.5169,-174.4132"></polygon></g><!-- strucchar&#45;&gt;strucsf --><g id="edge8" class="edge"><title>strucchar:charcsq-&gt;strucsf:sfcsq</title>
<path fill="none" stroke="#000000" d="M142.2244,-271.3C123.8303,-271.3 91.8658,-130.1624 97.8882,-93.7754"></path><polygon fill="#000000" stroke="#000000" points="100.8581,-95.6272 103.2244,-85.3 94.9345,-91.8975 100.8581,-95.6272"></polygon></g><!-- vctr --><g id="node6" class="node csquare_nodes"><title>vctr</title>
<polygon fill="#ffffff" stroke="#000000" points="235.942,-380.6 122.5068,-380.6 122.5068,-344.6 235.942,-344.6 235.942,-380.6"></polygon><text text-anchor="middle" x="179.2244" y="-358.4" font-family="Helvetica,sans-Serif" font-size="14.00" fill="#000000">vctrs::vctrs_vctr</text></g><!-- vctr&#45;&gt;strucchar --><g id="edge1" class="edge"><title>vctr-&gt;strucchar:character</title>
<path fill="none" stroke="#000000" d="M179.2244,-344.5C179.2244,-336.8287 179.2244,-327.5649 179.2244,-318.4443"></path><polygon fill="#000000" stroke="#000000" points="182.7245,-318.3 179.2244,-308.3 175.7245,-318.3 182.7245,-318.3"></polygon></g></g></svg>
</div>
<div class="section level2">
<h2 id="creating-csquares-objects">Creating <code>csquares</code> objects<a class="anchor" aria-label="anchor" href="#creating-csquares-objects"></a>
</h2>
<div class="section level3">
<h3 id="using-characters">Using characters<a class="anchor" aria-label="anchor" href="#using-characters"></a>
</h3>
<p>The simplest way of creating a <code>csquares</code> object is by
coercing other objects with <code><a href="../reference/as_csquares.html">as_csquares()</a></code>. The example
below shows how to create a <code>csquares</code> object from a vector
of <code>characters</code>:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">csquares_char</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_csquares.html">as_csquares</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"1000"</span>, <span class="st">"3000"</span>, <span class="st">"5000"</span>, <span class="st">"7000"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-data-frames">Using data.frames<a class="anchor" aria-label="anchor" href="#using-data-frames"></a>
</h3>
<p>Perhaps a more useful format is a <code>data.frame</code>, as you can
add data associated with the spatial squares. You can cast the previous
object to a <code>data.frame</code> and it will automatically inherit
the <code>csquares</code> class:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">csquares_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="va">csquares_char</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">csquares_df</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "csquares"   "data.frame"</span></span></code></pre></div>
<p>This means that you can apply all operations that you could apply to
a normal <code>data.frame</code>. This includes <a href="https://www.tidyverse.org" class="external-link">tidyverse</a> operations as explained
in more detail in <code><a href="../articles/tidy.html">vignette("tidy")</a></code>. For example, you can
add columns with data:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">csquares_df</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">csquares_df</span> <span class="op">|&gt;</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>dummy <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<p>You can also cast a plain <code>data.frame</code> to a csquares
object. In that case, your <code>data.frame</code> should already
contain a column with csquares codes. All you have to do is specify
which column this is:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">orca_csq</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/as_csquares.html">as_csquares</a></span><span class="op">(</span><span class="va">orca</span>, csquares <span class="op">=</span> <span class="st">"csquares"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="using-simple-features-sf">Using Simple Features (sf)<a class="anchor" aria-label="anchor" href="#using-simple-features-sf"></a>
</h3>
<p>Remember that csquares encode geographic rectangles, so it makes
sense to include this spatial information in the
<code>data.frame</code>. This is achieved by coercing a
<code>csquares</code> <code>data.frame</code> to a simple features
(<code>sf</code>) object. It too will automatically inherit the
<code>csquares</code> class:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="va">csquares_sf</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/st_as_sf.html">st_as_sf</a></span><span class="op">(</span><span class="va">csquares_df</span><span class="op">)</span></span></code></pre></div>
<p>The object <code>csquares_sf</code> now has a column holding the
csquares codes and a column containing the corresponding geometric
features. Both should represent the same spatial object. But be careful!
Not all methods are aware of this, so modifying the geometric column
might break this association.</p>
</div>
<div class="section level3">
<h3 id="using-spatiotemporal-arrays-stars">Using Spatiotemporal Arrays (stars)<a class="anchor" aria-label="anchor" href="#using-spatiotemporal-arrays-stars"></a>
</h3>
<p><code>csquares</code> objects inheriting from the <code>stars</code>
are a little trickier. This is because there are more constraints: You
cannot include just any csquares at any location with varying
resolutions. At the moment <code>csquares</code> only support regular
linear grids where each grid cell size is the same as that of the
associated csquares. To create a <code>csquares</code>
<code>stars</code> object, you have to provide a bounding box and a
resolution in degrees:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/stars/" class="external-link">stars</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">csquares_stars</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/new_csquares.html">new_csquares</a></span><span class="op">(</span><span class="va">csquares_sf</span>, resolution <span class="op">=</span> <span class="fl">10L</span><span class="op">)</span></span></code></pre></div>
<p>Even though we use the <code>csquares_sf</code> object to create the
grid, it doesn’t include any of the columns from the <code>sf</code>
object in the resulting <code>stars</code> object. That is because only
the bounding box of <code>csquares_sf</code> is used to create
<code>csquares_stars</code>. You can add information to the grid by
matching the csquares codes:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## create an empty column:</span></span>
<span><span class="va">csquares_stars</span><span class="op">[[</span><span class="st">"dummy"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">NA</span></span>
<span><span class="va">csquares_stars</span><span class="op">[[</span><span class="st">"dummy"</span><span class="op">]</span><span class="op">]</span> <span class="op">&lt;-</span></span>
<span>  <span class="va">csquares_df</span><span class="op">[[</span><span class="st">"dummy"</span><span class="op">]</span><span class="op">]</span> <span class="op">[</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></span><span class="op">(</span><span class="va">csquares_stars</span><span class="op">[[</span><span class="st">"csquares"</span><span class="op">]</span><span class="op">]</span>, <span class="va">csquares_df</span><span class="op">[[</span><span class="st">"csquares"</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span>
<span>  <span class="op">]</span></span></code></pre></div>
<p>Or simply use <code><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join()</a></code>:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">csquares_stars</span> <span class="op">&lt;-</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">left_join</a></span><span class="op">(</span><span class="va">csquares_stars</span>,</span>
<span>            <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>csquares <span class="op">=</span> <span class="st">"1000"</span>, foo <span class="op">=</span> <span class="st">"bar"</span><span class="op">)</span>,</span>
<span>            by <span class="op">=</span> <span class="st">"csquares"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="validating-csquares-objects">Validating <code>csquares</code> objects<a class="anchor" aria-label="anchor" href="#validating-csquares-objects"></a>
</h2>
<p>When creating a csquares object with <code>as_csquares</code>, it is
not allowed to pass illegal codes, or codes with wildcards (see
<code>vignette("wildcards")</code>). It will throw an error. You could
try to work around this and create a fake <code>csquares</code> object
by assigning the class manually to an illegal code. However, if you test
its validity you will see that it is not going to fly:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Let's create a fake csquares object with a code that is merely impossible:</span></span>
<span><span class="va">fake_csquares</span> <span class="op">&lt;-</span> <span class="st">"1099"</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">fake_csquares</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="st">"csquares"</span></span>
<span></span>
<span><span class="co">## Of course this isn't valid</span></span>
<span><span class="fu"><a href="../reference/validate_csquares.html">validate_csquares</a></span><span class="op">(</span><span class="va">fake_csquares</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] FALSE</span></span>
<span></span>
<span><span class="co">## This one is:</span></span>
<span><span class="fu"><a href="../reference/validate_csquares.html">validate_csquares</a></span><span class="op">(</span><span class="va">csquares_char</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Pepijn de Vries.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

      </footer>
</div>






  </body>
</html>
